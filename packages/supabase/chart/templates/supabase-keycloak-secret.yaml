{{- $keycloakSecret := "YOUR_KEYCLOAK_CLIENT_SECRET_GOES_HERE" }} 
{{- $existingSecret := (lookup "v1" "Secret" .Release.Namespace "supabase-keycloak-secret") }}
apiVersion: v1
kind: Secret
metadata:
 name: supabase-keycloak-secret
 namespace: {{ .Release.Namespace }}
type: Opaque
data:
 {{- if $existingSecret }}
 secret: {{ $existingSecret.data.secret }}
 {{- else }}
 secret: {{ $keycloakSecret | b64enc | quote }}
 {{- end }}