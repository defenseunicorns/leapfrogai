apiVersion: uds.dev/v1alpha1
kind: Package
metadata:
  name: supabase
  namespace: {{ .Release.Namespace }}
spec:
  network:
    expose:
        - service: supabase-studio
            podLabels:
                app: supabase-studio
            host: supabase-studio
            gateway: tenant
            port: 3000

    allow:
      - direction: Ingress
        remoteGenerated: Anywhere

      - direction: Egress
        remoteGenerated: Anywhere

      - direction: Egress
        podLabels:
          app: supabase-supabase-*
        remoteGenerated: Anywhere